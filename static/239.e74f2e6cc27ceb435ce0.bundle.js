webpackJsonp([239],{1179:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__),__WEBPACK_IMPORTED_MODULE_5_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__),__WEBPACK_IMPORTED_MODULE_6_prop_types__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_6_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_prop_types__),__WEBPACK_IMPORTED_MODULE_7_react_redux__=__webpack_require__(107),__WEBPACK_IMPORTED_MODULE_8_react_intl__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_9__utils_common__=__webpack_require__(1171),__WEBPACK_IMPORTED_MODULE_10__components_core_Block__=__webpack_require__(1165),__WEBPACK_IMPORTED_MODULE_11__deskpro_portal_components__=__webpack_require__(1172),__WEBPACK_IMPORTED_MODULE_12__modules_tickets__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11__deskpro_portal_components__),__webpack_require__(1180)),__WEBPACK_IMPORTED_MODULE_13__modules_info__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_14__modules_guest__=__webpack_require__(203),TicketFormScreen=function(_React$Component){function TicketFormScreen(){var _ref,_temp,_this,_ret;__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this,TicketFormScreen);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(_ref=TicketFormScreen.__proto__||__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default()(TicketFormScreen)).call.apply(_ref,[this].concat(args))),_this.onSubmit=function(values){return _this.props.saveTicket(values)},_ret=_temp,__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(_this,_ret)}return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(TicketFormScreen,_React$Component),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(TicketFormScreen,[{key:"componentDidMount",value:function componentDidMount(){this.props.newTicket()}},{key:"render",value:function render(){var _props=this.props,intl=_props.intl,formConfig=_props.formConfig,uploadTo=_props.uploadTo,departments=_props.departments,department=_props.department,ticketSaved=_props.ticketSaved,ticketSaving=_props.ticketSaving,errors=_props.errors,user=_props.user,immutableLayout=Object(__WEBPACK_IMPORTED_MODULE_9__utils_common__.a)(formConfig);return __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__components_core_Block__.a,{title:intl.formatMessage({id:"ticket_form.header",defaultMessage:"New Ticket"})},ticketSaving&&__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_intl__.a,{id:"tickets.form.saving",defaultMessage:"We're saving your ticket. Please wait"}),!ticketSaved&&__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11__deskpro_portal_components__.TicketForm,{initialValues:{person:user},deskproLayout:immutableLayout,departmentPropName:"department",departments:Object(__WEBPACK_IMPORTED_MODULE_9__utils_common__.a)(departments),department:department,fileUploadUrl:uploadTo,csrfToken:"not_used",onSubmit:this.onSubmit,errors:errors}),ticketSaved&&!ticketSaving&&__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_intl__.a,{id:"tickets.form.thanks",defaultMessage:"Thank you! We will answer you soon via email."}))}}]),TicketFormScreen}(__WEBPACK_IMPORTED_MODULE_5_react___default.a.Component);TicketFormScreen.propTypes={formConfig:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.array.isRequired,uploadTo:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.string.isRequired,saveTicket:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.func.isRequired,newTicket:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.func.isRequired,departments:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object.isRequired,intl:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object.isRequired,user:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object,ticketSaved:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.bool,ticketSaving:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.bool},TicketFormScreen.defaultProps={ticketSaved:!1,ticketSaving:!1,user:{name:"",email:""}},__webpack_exports__.default=Object(__WEBPACK_IMPORTED_MODULE_7_react_redux__.b)(function mapStateToProps(state,props){return{departments:Object(__WEBPACK_IMPORTED_MODULE_13__modules_info__.f)(state,props),ticketSaved:Object(__WEBPACK_IMPORTED_MODULE_12__modules_tickets__.c)(state),ticketSaving:Object(__WEBPACK_IMPORTED_MODULE_12__modules_tickets__.d)(state),user:Object(__WEBPACK_IMPORTED_MODULE_14__modules_guest__.c)(state),errors:Object(__WEBPACK_IMPORTED_MODULE_12__modules_tickets__.b)(state)}},{saveTicket:__WEBPACK_IMPORTED_MODULE_12__modules_tickets__.f,newTicket:__WEBPACK_IMPORTED_MODULE_12__modules_tickets__.e})(Object(__WEBPACK_IMPORTED_MODULE_8_react_intl__.d)(TicketFormScreen)),TicketFormScreen.__docgenInfo={description:"",displayName:"TicketFormScreen",props:{formConfig:{type:{name:"array"},required:!0,description:""},uploadTo:{type:{name:"string"},required:!0,description:""},saveTicket:{type:{name:"func"},required:!0,description:""},newTicket:{type:{name:"func"},required:!0,description:""},departments:{type:{name:"object"},required:!0,description:""},intl:{type:{name:"object"},required:!0,description:""},user:{type:{name:"object"},required:!1,description:"",defaultValue:{value:"{name: '', email: ''}",computed:!1}},ticketSaved:{type:{name:"bool"},required:!1,description:"",defaultValue:{value:"false",computed:!1}},ticketSaving:{type:{name:"bool"},required:!1,description:"",defaultValue:{value:"false",computed:!1}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/TicketFormScreen.jsx"]={name:"TicketFormScreen",docgenInfo:TicketFormScreen.__docgenInfo,path:"src/screens/TicketFormScreen.jsx"})}});